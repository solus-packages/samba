# This is the default Solus Samba configuration file.
#
# Any line which starts with a ; (semi-colon) or a # (hash) 
# is a comment and is ignored. In this example we will use a #
# for commentry and a ; for parts of the config file that you
# may wish to enable
#
# If you need to change any settings, you should add these settings
# to /etc/samba/smb.conf and they will override any settings in the
# present file.
#
# NOTE: Whenever you modify smb.conf, you should run the command "testparm"
# to check that you have not made any basic syntactic errors. 
#
#======================= Home share settings =================================
[homes]
        comment = Home Directories
        browseable = no
        writable = yes

#======================= Global Settings =====================================
[global]

# Default Solus Samba configuration options
#
    workgroup = WORKGROUP
    server string = Samba server (version: %v, protocol: %R)
    server role = standalone server
    # this tells Samba to use a separate log file for each machine that connects
    log file = /var/log/samba/log.%m
    # Put a capping on the size of the log files (in Kb).
    max log size = 50
    # level 1=WARN, 2=NOTICE, 3=INFO, 4 and up = DEBUG
    log level = 2 auth:3 smb:3
    passdb backend = tdbsam
    # don't make files executable by default
    create mask = 0644

# By default, only allow hosts from RFC1918 addresses (i.e. private addresses)
#
    hosts allow = 127.0.0. 10. 172.16.0.0/255.240.0.0 192.168.

# The 'sambaguest' account is a system account with no login rights
# Its only job is to isolate samba guest access (think anonymous FTP)
# It's needed because Solus enables guest-access to user shares by
# default for convenience's sake.
#
    guest account = sambaguest
    map to guest = Bad User

# Set up usershare functionality where users can set up shares themselves.
# The usershare path contains configuration snippets and is writable for
# members of the group 'users' (Solus-specific configuration).
# By default users can only edit their own shares (sticky bit is set on dir).
# Users can allow guest access to shares.
#
# Allowing access to named users will require said users to be added to the 
# samba login database like so:
#
# 'sudo smbpasswd -a some_user'  # adds some_user to the samba login database
# 'sudo smbpasswd -e some_user'  # enables some_user's samba login
#
    usershare path = /var/lib/samba/usershare
    usershare max shares = 100
    usershare allow guests = yes

# Disable sharing of printers, as supported versions of Windows can all
# be configured to connect directly to CUPS via IPP (this avoids the same
# printer showing up in multiple guises on the network).
# https://serverfault.com/questions/207510/how-do-you-disable-smb-printing-support#308927
#
    load printers = no
    printing = bsd
    printcap name = /dev/null
    disable spoolss = yes

# Give users the option to add custom configuration directives
# in the default system /etc/samba/smb.conf file
#
    include = /etc/samba/smb.conf
